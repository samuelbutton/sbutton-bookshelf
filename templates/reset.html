<h3 class="section-title">Reset Password</h3>

<form method="post" enctype="multipart/form-data" action="/reset">
  <div style = "display: none" class="form-group">
    <label for="token">Token</label>
    <input class="form-control" name="token" id="token" value={{.}}>
  </div>
  <div class="form-group">
    <label for="email">Email</label>
    <input class="form-control" name="email" id="email" value="" required maxlength="255" type="email">
  </div>
  <div class="form-group">
    <label for="password">New Password</label>
    <input class="form-control" name="password" id="password" value="" required maxlength="255" type="password">
    <small id="passwordHelpBlock" class="form-text text-muted">
      Your password must be at least 8 characters long.
    </small>
  </div>
  <div class="form-group">
    <label for="confirm_password">Confirm Password</label>
    <input class="form-control" name="confirm_password" id="confirm_password" value="" required maxlength="255" type="password">
  </div>
  <button class="btn btn-success">Reset</button>
</form>
<div style="margin-top: 1em;">
  <a href="/login">Back to log in</a>
</div>
<script>
  var password = document.getElementById("password")
  , confirm_password = document.getElementById("confirm_password");

  function validatePassword(){
    if(password.value != confirm_password.value) {
      confirm_password.setCustomValidity("Passwords Don't Match");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  password.onchange = validatePassword;
  confirm_password.onkeyup = validatePassword;
</script>